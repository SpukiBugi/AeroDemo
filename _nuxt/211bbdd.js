(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{203:function(e,t,r){var content=r(207);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(51).default)("29c808fc",content,!0,{sourceMap:!1})},204:function(e,t,r){var content=r(209);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(51).default)("46dbdb00",content,!0,{sourceMap:!1})},206:function(e,t,r){"use strict";r(203)},207:function(e,t,r){var n=r(50)(!1);n.push([e.i,".head-wrap[data-v-d52bd794]{position:absolute;width:200px;height:200px;z-index:1}.head-wrap:hover .triangle-1[data-v-d52bd794]{opacity:0.2}.head-wrap:hover .mask-rect[data-v-d52bd794]{transform:translateY(0)}.head-wrap:hover .links-hider[data-v-d52bd794]{height:200px}.head-wrap._green .mask-rect[data-v-d52bd794]{fill:#468658}.head-wrap._green .link-text[data-v-d52bd794]:hover{color:#2fac83}.head-wrap._green .link-text._current[data-v-d52bd794]{color:#062b0d}.svg[data-v-d52bd794]{position:absolute}.triangle-1[data-v-d52bd794]{fill:#f3f3f3;opacity:0.1;transition:all 0.3s ease}.mask-rect[data-v-d52bd794]{opacity:0.3;fill:#64a0df;transform:translateY(-100%);transition:all 0.3s ease}.links-hider[data-v-d52bd794]{position:relative;height:0;width:100%;overflow:hidden;transition:all 0.3s ease}.links[data-v-d52bd794]{position:absolute;top:0;right:0;display:flex;flex-direction:column;justify-content:flex-end;height:200px;padding-right:20px;padding-bottom:20px;transition:all 0.3s ease}.link-text[data-v-d52bd794]{font-size:14px;text-decoration:none;text-align:right;text-transform:uppercase;transition:all 0.3s ease}.link-text[data-v-d52bd794]:hover{color:#4fa4ff}.link-text[data-v-d52bd794]:not(:first-child){margin-top:3px}.link-text._current[data-v-d52bd794]{color:#373879}\n",""]),e.exports=n},208:function(e,t,r){"use strict";r(204)},209:function(e,t,r){var n=r(50)(!1);n.push([e.i,".loader[data-v-3ebe6972]{position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#060016;z-index:100;transition:all 0.4s ease}.loader._green .play[data-v-3ebe6972]{fill:#008744}.loader._green .circular[data-v-3ebe6972]{animation:dash-3ebe6972 2s ease-in-out infinite,color-3ebe6972 1s ease-in-out infinite alternate-reverse,rotate-3ebe6972 2s linear infinite}.loader._green._ready .circular[data-v-3ebe6972]{stroke:#008744}.loader._ready .icon[data-v-3ebe6972]{pointer-events:all}.loader._ready .play[data-v-3ebe6972]{opacity:1}.loader._ready .circular[data-v-3ebe6972]{animation-iteration-count:1;stroke-dasharray:125, 200;stroke-dashoffset:0;stroke:#0057e7}.loader._entered[data-v-3ebe6972]{opacity:0;pointer-events:none}.loader._entered .icon[data-v-3ebe6972]{pointer-events:none}.icon[data-v-3ebe6972]{position:relative;width:100px;height:100px;pointer-events:none}.circular[data-v-3ebe6972]{stroke-dasharray:125, 200;stroke-dashoffset:0;animation:dash-3ebe6972 2s ease-in-out infinite,color-3ebe6972 1s ease-in-out infinite alternate,rotate-3ebe6972 2s linear infinite;stroke-linecap:round;transition:all 0.3s ease}.play[data-v-3ebe6972]{position:absolute;top:50%;left:53%;width:30px;height:30px;transform:translate(-50%, -50%);opacity:0;fill:#0057e7;transition:all 0.5s ease}@keyframes rotate-3ebe6972{100%{transform:rotate(360deg)}}@keyframes dash-3ebe6972{0%{stroke-dasharray:125, 200;stroke-dashoffset:0}50%{stroke-dasharray:89, 200;stroke-dashoffset:-124}50.1%{stroke-dasharray:1, 200;stroke-dashoffset:0}100%{stroke-dasharray:125, 200;stroke-dashoffset:0}}@keyframes color-3ebe6972{0%{stroke:#0057e7}100%{stroke:#008744}}\n",""]),e.exports=n},210:function(e,t,r){"use strict";r(29);var n={name:"Menu",props:{page_img:String,color:{type:String,default:"_blue"}}},o=(r(206),r(10)),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"head-wrap",class:e.color},[t("svg",{staticClass:"svg",attrs:{height:"200",width:"200",viewBox:"0 0 350 350"}},[t("image",{staticClass:"logo",attrs:{href:e.page_img,x:"15",y:"15",height:"100",width:"100"}}),e._v(" "),t("mask",{attrs:{id:"myMask"}},[t("polygon",{staticClass:"triangle-2",attrs:{points:"350,0 0,350 350,350",fill:"white"}})]),e._v(" "),t("polygon",{staticClass:"triangle-1",attrs:{points:"0,0 350,0 0,350"}}),e._v(" "),t("g",{attrs:{mask:"url(#myMask)"}},[t("rect",{staticClass:"mask-rect",attrs:{x:"0",y:"0",width:"100%",height:"100%"}})])]),e._v(" "),t("div",{staticClass:"links-hider"},[t("div",{staticClass:"links"},[t("nuxt-link",{staticClass:"link-text",class:{"cursor-pointer":"aero"!==e.$route.name,_current:"aero"===e.$route.name},attrs:{to:{name:"aero",params:{loaderColor:"reverse"}}}},[e._v("Aero")]),e._v(" "),t("nuxt-link",{staticClass:"link-text",class:{"cursor-pointer":"index"!==e.$route.name,_current:"index"===e.$route.name},attrs:{to:{name:"index"}}},[e._v("Garden")]),e._v(" "),t("nuxt-link",{staticClass:"link-text",class:{"cursor-pointer":"visualizer"!==e.$route.name,_current:"visualizer"===e.$route.name},attrs:{to:{name:"visualizer"}}},[e._v("Visualizer")])],1)])])}),[],!1,null,"d52bd794",null);t.a=component.exports},211:function(e,t,r){"use strict";var n={props:{load_color:{type:String,default:"_blue"},page_ready:{type:Boolean,default:!1}},data:function(){return{entered:!1}},methods:{enterPage:function(){this.page_ready&&(this.entered=!0,this.$emit("page-enter"))}}},o=(r(208),r(10)),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"loader",class:[{_ready:e.page_ready,_entered:e.entered},e.load_color],on:{click:e.enterPage}},[t("div",{staticClass:"icon cursor-pointer"},[t("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"1","stroke-miterlimit":"10"}})]),e._v(" "),t("svg",{staticClass:"play",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490 490"}},[t("path",{attrs:{d:"M0.665,0v490l488.669-245L0.665,0z M15.977,24.806L455.183,245L15.977,465.208V24.806z"}})])])])}),[],!1,null,"3ebe6972",null);t.a=component.exports},213:function(e,t,r){var n=r(3);n(n.S,"Math",{sign:r(214)})},214:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},216:function(e,t,r){r(205)("Uint16",2,(function(e){return function(data,t,r){return e(this,data,t,r)}}))},221:function(e,t,r){var content=r(232);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(51).default)("8f5a667e",content,!0,{sourceMap:!1})},225:function(e,t,r){r(205)("Uint8",1,(function(e){return function(data,t,r){return e(this,data,t,r)}}))},227:function(e,t,r){var n=r(3);n(n.G+n.W+n.F*!r(215).ABV,{DataView:r(218).DataView})},228:function(e,t,r){r(205)("Int8",1,(function(e){return function(data,t,r){return e(this,data,t,r)}}))},229:function(e,t,r){r(205)("Int16",2,(function(e){return function(data,t,r){return e(this,data,t,r)}}))},230:function(e,t,r){r(205)("Uint32",4,(function(e){return function(data,t,r){return e(this,data,t,r)}}))},231:function(e,t,r){"use strict";r(221)},232:function(e,t,r){var n=r(50)(!1);n.push([e.i,'.container[data-v-119c9447]{margin:0 auto;min-height:100vh;display:flex;justify-content:center;align-items:center;text-align:center;background-color:#1f1f1f;background-image:url("/images/snow.png")}[data-v-119c9447] .head-wrap:hover .logo{transform:scale(1)}[data-v-119c9447] .head-wrap:hover .triangle-1{opacity:0.2}[data-v-119c9447] .head-wrap .triangle-1{opacity:0}[data-v-119c9447] .logo{width:130px;height:130px;opacity:0.6;transform:scale(2);transition:all .5s ease}\n',""]),e.exports=n},244:function(e,t,r){"use strict";r.r(t);var n=r(4),o=(r(16),r(213),r(41),r(212)),l=r(8),c=(r(225),r(29),r(43),r(44),r(227),r(38),r(132),r(56),r(30),r(228),r(229),r(216),r(230),r(217),r(42),function(){function e(e){o.F.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,object){e[t]=object},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(o.F.prototype),{constructor:e,load:function(e,t,r,n){var l,c=this;l=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:o.G.extractUrlBase(e),c.manager.itemStart(e);var d=function(t){n?n(t):console.error(t),c.manager.itemError(e),c.manager.itemEnd(e)},h=new o.m(c.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),"use-credentials"===c.crossOrigin&&h.setWithCredentials(!0),h.load(e,(function(data){try{c.parse(data,l,(function(r){t(r),c.manager.itemEnd(e)}),d)}catch(e){d(e)}}),r,d)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(data,path,e,t){var content,l={};if("string"==typeof data)content=data;else if(o.G.decodeText(new Uint8Array(data,0,4))===m){try{l[r.KHR_BINARY_GLTF]=new y(data)}catch(e){return void(t&&t(e))}content=l[r.KHR_BINARY_GLTF].content}else content=o.G.decodeText(new Uint8Array(data));var f=JSON.parse(content);if(void 0===f.asset||f.asset.version[0]<2)t&&t(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(f.extensionsUsed)for(var i=0;i<f.extensionsUsed.length;++i){var v=f.extensionsUsed[i],M=f.extensionsRequired||[];switch(v){case r.KHR_LIGHTS_PUNCTUAL:l[v]=new c(f);break;case r.KHR_MATERIALS_CLEARCOAT:l[v]=new h;break;case r.KHR_MATERIALS_UNLIT:l[v]=new d;break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:l[v]=new w;break;case r.KHR_DRACO_MESH_COMPRESSION:l[v]=new T(f,this.dracoLoader);break;case r.MSFT_TEXTURE_DDS:l[v]=new n(this.ddsLoader);break;case r.KHR_TEXTURE_TRANSFORM:l[v]=new x;break;case r.KHR_MESH_QUANTIZATION:l[v]=new _;break;default:M.indexOf(v)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+v+'".')}}new $(f,l,{path:path||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(e,t)}}});var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function n(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=r.MSFT_TEXTURE_DDS,this.ddsLoader=e}function c(e){this.name=r.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[r.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function d(){this.name=r.KHR_MATERIALS_UNLIT}function h(){this.name=r.KHR_MATERIALS_CLEARCOAT}c.prototype.loadLight=function(e){var t,r=this.lightDefs[e],n=new o.j(16777215);void 0!==r.color&&n.fromArray(r.color);var l=void 0!==r.range?r.range:0;switch(r.type){case"directional":(t=new o.k(n)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new o.Z(n)).distance=l;break;case"spot":(t=new o.mb(n)).distance=l,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,t.angle=r.spot.outerConeAngle,t.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+r.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==r.intensity&&(t.intensity=r.intensity),t.name=r.name||"light_"+e,Promise.resolve(t)},d.prototype.getMaterialType=function(){return o.L},d.prototype.extendParams=function(e,t,r){var n=[];e.color=new o.j(1,1,1),e.opacity=1;var l=t.pbrMetallicRoughness;if(l){if(Array.isArray(l.baseColorFactor)){var c=l.baseColorFactor;e.color.fromArray(c),e.opacity=c[3]}void 0!==l.baseColorTexture&&n.push(r.assignTexture(e,"map",l.baseColorTexture))}return Promise.all(n)},h.prototype.getMaterialType=function(){return o.N},h.prototype.extendParams=function(e,t,r){var n=[],l=t.extensions[this.name];if(void 0!==l.clearcoatFactor&&(e.clearcoat=l.clearcoatFactor),void 0!==l.clearcoatTexture&&n.push(r.assignTexture(e,"clearcoatMap",l.clearcoatTexture)),void 0!==l.clearcoatRoughnessFactor&&(e.clearcoatRoughness=l.clearcoatRoughnessFactor),void 0!==l.clearcoatRoughnessTexture&&n.push(r.assignTexture(e,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),void 0!==l.clearcoatNormalTexture&&(n.push(r.assignTexture(e,"clearcoatNormalMap",l.clearcoatNormalTexture)),void 0!==l.clearcoatNormalTexture.scale)){var c=l.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new o.rb(c,c)}return Promise.all(n)};var m="glTF",f=1313821514,v=5130562;function y(data){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(data,0,12);if(this.header={magic:o.G.decodeText(new Uint8Array(data.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==m)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var t=new DataView(data,12),n=0;n<t.byteLength;){var l=t.getUint32(n,!0);n+=4;var c=t.getUint32(n,!0);if(n+=4,c===f){var d=new Uint8Array(data,12+n,l);this.content=o.G.decodeText(d)}else if(c===v){var h=12+n;this.body=data.slice(h,h+l)}n+=l}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function T(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function x(){this.name=r.KHR_TEXTURE_TRANSFORM}function M(e){o.O.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),r=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),n=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),l=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),d={specular:{value:(new o.j).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=d,this.onBeforeCompile=function(e){for(var o in d)e.uniforms[o]=d[o];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",l),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",c)},Object.defineProperties(this,{specular:{get:function(){return d.specular.value},set:function(e){d.specular.value=e}},specularMap:{get:function(){return d.specularMap.value},set:function(e){d.specularMap.value=e}},glossiness:{get:function(){return d.glossiness.value},set:function(e){d.glossiness.value=e}},glossinessMap:{get:function(){return d.glossinessMap.value},set:function(e){d.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function w(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return M},extendParams:function(e,t,r){var n=t.extensions[this.name];e.color=new o.j(1,1,1),e.opacity=1;var l=[];if(Array.isArray(n.diffuseFactor)){var c=n.diffuseFactor;e.color.fromArray(c),e.opacity=c[3]}if(void 0!==n.diffuseTexture&&l.push(r.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new o.j(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new o.j(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var d=n.specularGlossinessTexture;l.push(r.assignTexture(e,"glossinessMap",d)),l.push(r.assignTexture(e,"specularMap",d))}return Promise.all(l)},createMaterial:function(e){var t=new M(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=o.nb,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function _(){this.name=r.KHR_MESH_QUANTIZATION}function S(e,t,r,n){o.v.call(this,e,t,r,n)}T.prototype.decodePrimitive=function(e,t){var r=this.json,n=this.dracoLoader,o=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,c={},d={},h={};for(var m in l){var f=F[m]||m.toLowerCase();c[f]=l[m]}for(m in e.attributes){f=F[m]||m.toLowerCase();if(void 0!==l[m]){var v=r.accessors[e.attributes[m]],y=C[v.componentType];h[f]=y,d[f]=!0===v.normalized}}return t.getDependency("bufferView",o).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(var r in e.attributes){var n=e.attributes[r],o=d[r];void 0!==o&&(n.normalized=o)}t(e)}),c,h)}))}))},x.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},M.prototype=Object.create(o.O.prototype),M.prototype.constructor=M,M.prototype.copy=function(source){return o.O.prototype.copy.call(this,source),this.specularMap=source.specularMap,this.specular.copy(source.specular),this.glossinessMap=source.glossinessMap,this.glossiness=source.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},S.prototype=Object.create(o.v.prototype),S.prototype.constructor=S,S.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,o=e*n*3+n,i=0;i!==n;i++)t[i]=r[o+i];return t},S.prototype.beforeStart_=S.prototype.copySampleValue_,S.prototype.afterEnd_=S.prototype.copySampleValue_,S.prototype.interpolate_=function(e,t,r,n){for(var o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=2*c,h=3*c,td=n-t,p=(r-t)/td,m=p*p,f=m*p,v=e*h,y=v-h,T=-2*f+3*m,x=f-m,M=1-T,w=x-m+p,i=0;i!==c;i++){var _=l[y+i+c],S=l[y+i+d]*td,R=l[v+i+c],E=l[v+i]*td;o[i]=M*_+w*S+T*R+x*E}return o};var R=0,E=1,A=2,L=3,k=4,I=5,P=6,C={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},O={9728:o.Q,9729:o.C,9984:o.S,9985:o.E,9986:o.R,9987:o.D},U={33071:o.h,33648:o.P,10497:o.hb},H={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},F={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},N={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},D={CUBICSPLINE:void 0,LINEAR:o.x,STEP:o.w},j="OPAQUE",G="MASK",K="BLEND",B={"image/png":o.eb,"image/jpeg":o.fb};function z(e,path){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(path)&&/^\//.test(e)&&(path=path.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:path+e)}function V(e,object,t){for(var r in t.extensions)void 0===e[r]&&(object.userData.gltfExtensions=object.userData.gltfExtensions||{},object.userData.gltfExtensions[r]=t.extensions[r])}function X(object,e){void 0!==e.extras&&("object"===Object(l.a)(e.extras)?Object.assign(object.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function W(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var i=0,r=t.weights.length;i<r;i++)e.morphTargetInfluences[i]=t.weights[i];if(t.extras&&Array.isArray(t.extras.targetNames)){var n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(i=0,r=n.length;i<r;i++)e.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Y(e){for(var t="",r=Object.keys(e).sort(),i=0,n=r.length;i<n;i++)t+=r[i]+":"+e[r[i]]+";";return t}function $(e,r,n){this.json=e||{},this.extensions=r||{},this.options=n||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new o.ob(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new o.m(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function J(e,t,r){var n=t.attributes,l=[];function c(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(var d in n){var h=F[d]||d.toLowerCase();h in e.attributes||l.push(c(n[d],h))}if(void 0!==t.indices&&!e.index){var m=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));l.push(m)}return X(e,t),function(e,t,r){var n=t.attributes,l=new o.e;if(void 0!==n.POSITION){var c=(y=r.json.accessors[n.POSITION]).min,d=y.max;if(void 0!==c&&void 0!==d){l.set(new o.sb(c[0],c[1],c[2]),new o.sb(d[0],d[1],d[2]));var h=t.targets;if(void 0!==h){for(var m=new o.sb,f=new o.sb,i=0,v=h.length;i<v;i++){var y,T=h[i];if(void 0!==T.POSITION)c=(y=r.json.accessors[T.POSITION]).min,d=y.max,void 0!==c&&void 0!==d?(f.setX(Math.max(Math.abs(c[0]),Math.abs(d[0]))),f.setY(Math.max(Math.abs(c[1]),Math.abs(d[1]))),f.setZ(Math.max(Math.abs(c[2]),Math.abs(d[2]))),m.max(f)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}l.expandByVector(m)}e.boundingBox=l;var x=new o.lb;l.getCenter(x.center),x.radius=l.min.distanceTo(l.max)/2,e.boundingSphere=x}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,r),Promise.all(l).then((function(){return void 0!==t.targets?function(e,t,r){for(var n=!1,o=!1,i=0,l=t.length;i<l&&(void 0!==(h=t[i]).POSITION&&(n=!0),void 0!==h.NORMAL&&(o=!0),!n||!o);i++);if(!n&&!o)return Promise.resolve(e);var c=[],d=[];for(i=0,l=t.length;i<l;i++){var h=t[i];if(n){var m=void 0!==h.POSITION?r.getDependency("accessor",h.POSITION):e.attributes.position;c.push(m)}o&&(m=void 0!==h.NORMAL?r.getDependency("accessor",h.NORMAL):e.attributes.normal,d.push(m))}return Promise.all([Promise.all(c),Promise.all(d)]).then((function(t){var r=t[0],l=t[1];return n&&(e.morphAttributes.position=r),o&&(e.morphAttributes.normal=l),e.morphTargetsRelative=!0,e}))}(e,t.targets,r):e}))}function Z(e,t){var r=e.getIndex();if(null===r){var n=[],l=e.getAttribute("position");if(void 0===l)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<l.count;i++)n.push(i);e.setIndex(n),r=e.getIndex()}var c=r.count-2,d=[];if(t===o.pb)for(i=1;i<=c;i++)d.push(r.getX(0)),d.push(r.getX(i)),d.push(r.getX(i+1));else for(i=0;i<c;i++)i%2==0?(d.push(r.getX(i)),d.push(r.getX(i+1)),d.push(r.getX(i+2))):(d.push(r.getX(i+2)),d.push(r.getX(i+1)),d.push(r.getX(i)));d.length/3!==c&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var h=e.clone();return h.setIndex(d),h}return $.prototype.parse=function(e,t){var r=this,n=this.json,o=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var l={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};V(o,l,n),X(l,n),e(l)})).catch(t)},$.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n={},o={},l=0,c=t.length;l<c;l++)for(var d=t[l].joints,i=0,h=d.length;i<h;i++)e[d[i]].isBone=!0;for(var m=0,f=e.length;m<f;m++){var v=e[m];void 0!==v.mesh&&(void 0===n[v.mesh]&&(n[v.mesh]=o[v.mesh]=0),n[v.mesh]++,void 0!==v.skin&&(r[v.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=o},$.prototype.getDependency=function(e,t){var n=e+":"+t,o=this.cache.get(n);if(!o){switch(e){case"scene":o=this.loadScene(t);break;case"node":o=this.loadNode(t);break;case"mesh":o=this.loadMesh(t);break;case"accessor":o=this.loadAccessor(t);break;case"bufferView":o=this.loadBufferView(t);break;case"buffer":o=this.loadBuffer(t);break;case"material":o=this.loadMaterial(t);break;case"texture":o=this.loadTexture(t);break;case"skin":o=this.loadSkin(t);break;case"animation":o=this.loadAnimation(t);break;case"camera":o=this.loadCamera(t);break;case"light":o=this.extensions[r.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,o)}return o},$.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,defs=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(defs.map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t},$.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var o=this.options;return new Promise((function(e,r){n.load(z(t.uri,o.path),e,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},$.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)}))},$.prototype.loadAccessor=function(e){var t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var l=[];return void 0!==n.bufferView?l.push(this.getDependency("bufferView",n.bufferView)):l.push(null),void 0!==n.sparse&&(l.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(l).then((function(e){var l,c,d=e[0],h=H[n.type],m=C[n.componentType],f=m.BYTES_PER_ELEMENT,v=f*h,y=n.byteOffset||0,T=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,x=!0===n.normalized;if(T&&T!==v){var M=Math.floor(y/T),w="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+M+":"+n.count,_=t.cache.get(w);_||(l=new m(d,M*T,n.count*T/f),_=new o.t(l,T/f),t.cache.add(w,_)),c=new o.u(_,h,y%T/f,x)}else l=null===d?new m(n.count*h):new m(d,y,n.count*h),c=new o.f(l,h,x);if(void 0!==n.sparse){var S=H.SCALAR,R=C[n.sparse.indices.componentType],E=n.sparse.indices.byteOffset||0,A=n.sparse.values.byteOffset||0,L=new R(e[1],E,n.sparse.count*S),k=new m(e[2],A,n.sparse.count*h);null!==d&&(c=new o.f(c.array.slice(),c.itemSize,c.normalized));for(var i=0,I=L.length;i<I;i++){var P=L[i];if(c.setX(P,k[i*h]),h>=2&&c.setY(P,k[i*h+1]),h>=3&&c.setZ(P,k[i*h+2]),h>=4&&c.setW(P,k[i*h+3]),h>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return c}))},$.prototype.loadTexture=function(e){var source,t=this,n=this.json,l=this.options,c=this.textureLoader,d=self.URL||self.webkitURL,h=n.textures[e],m=h.extensions||{},f=(source=m[r.MSFT_TEXTURE_DDS]?n.images[m[r.MSFT_TEXTURE_DDS].source]:n.images[h.source]).uri,v=!1;return void 0!==source.bufferView&&(f=t.getDependency("bufferView",source.bufferView).then((function(e){v=!0;var t=new Blob([e],{type:source.mimeType});return f=d.createObjectURL(t)}))),Promise.resolve(f).then((function(e){var n=l.manager.getHandler(e);return n||(n=m[r.MSFT_TEXTURE_DDS]?t.extensions[r.MSFT_TEXTURE_DDS].ddsLoader:c),new Promise((function(t,r){n.load(z(e,l.path),t,void 0,r)}))})).then((function(e){!0===v&&d.revokeObjectURL(f),e.flipY=!1,h.name&&(e.name=h.name),source.mimeType in B&&(e.format=B[source.mimeType]);var t=(n.samplers||{})[h.sampler]||{};return e.magFilter=O[t.magFilter]||o.C,e.minFilter=O[t.minFilter]||o.D,e.wrapS=U[t.wrapS]||o.hb,e.wrapT=U[t.wrapT]||o.hb,e}))},$.prototype.assignTexture=function(e,t,n){var l=this;return this.getDependency("texture",n.index).then((function(c){if(!c.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":c.format=o.fb}if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),l.extensions[r.KHR_TEXTURE_TRANSFORM]){var d=void 0!==n.extensions?n.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;d&&(c=l.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(c,d))}e[t]=c}))},$.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,n=void 0!==t.attributes.tangent,l=void 0!==t.attributes.color,c=void 0===t.attributes.normal,d=!0===e.isSkinnedMesh,h=Object.keys(t.morphAttributes).length>0,m=h&&void 0!==t.morphAttributes.normal;if(e.isPoints){var f="PointsMaterial:"+r.uuid,v=this.cache.get(f);v||(v=new o.bb,o.H.prototype.copy.call(v,r),v.color.copy(r.color),v.map=r.map,v.sizeAttenuation=!1,this.cache.add(f,v)),r=v}else if(e.isLine){f="LineBasicMaterial:"+r.uuid;var y=this.cache.get(f);y||(y=new o.z,o.H.prototype.copy.call(y,r),y.color.copy(r.color),this.cache.add(f,y)),r=y}if(n||l||c||d||h){f="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(f+="specular-glossiness:"),d&&(f+="skinning:"),n&&(f+="vertex-tangents:"),l&&(f+="vertex-colors:"),c&&(f+="flat-shading:"),h&&(f+="morph-targets:"),m&&(f+="morph-normals:");var T=this.cache.get(f);T||(T=r.clone(),d&&(T.skinning=!0),n&&(T.vertexTangents=!0),l&&(T.vertexColors=!0),c&&(T.flatShading=!0),h&&(T.morphTargets=!0),m&&(T.morphNormals=!0),this.cache.add(f,T)),r=T}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",new o.f(t.attributes.uv.array,2)),r.normalScale&&!n&&(r.normalScale.y=-r.normalScale.y),r.clearcoatNormalScale&&!n&&(r.clearcoatNormalScale.y=-r.clearcoatNormalScale.y),e.material=r},$.prototype.loadMaterial=function(e){var t,n=this,l=this.json,c=this.extensions,d=l.materials[e],h={},m=d.extensions||{},f=[];if(m[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var v=c[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=v.getMaterialType(),f.push(v.extendParams(h,d,n))}else if(m[r.KHR_MATERIALS_UNLIT]){var y=c[r.KHR_MATERIALS_UNLIT];t=y.getMaterialType(),f.push(y.extendParams(h,d,n))}else{t=o.O;var T=d.pbrMetallicRoughness||{};if(h.color=new o.j(1,1,1),h.opacity=1,Array.isArray(T.baseColorFactor)){var x=T.baseColorFactor;h.color.fromArray(x),h.opacity=x[3]}void 0!==T.baseColorTexture&&f.push(n.assignTexture(h,"map",T.baseColorTexture)),h.metalness=void 0!==T.metallicFactor?T.metallicFactor:1,h.roughness=void 0!==T.roughnessFactor?T.roughnessFactor:1,void 0!==T.metallicRoughnessTexture&&(f.push(n.assignTexture(h,"metalnessMap",T.metallicRoughnessTexture)),f.push(n.assignTexture(h,"roughnessMap",T.metallicRoughnessTexture)))}!0===d.doubleSided&&(h.side=o.l);var w=d.alphaMode||j;if(w===K?(h.transparent=!0,h.depthWrite=!1):(h.transparent=!1,w===G&&(h.alphaTest=void 0!==d.alphaCutoff?d.alphaCutoff:.5)),void 0!==d.normalTexture&&t!==o.L&&(f.push(n.assignTexture(h,"normalMap",d.normalTexture)),h.normalScale=new o.rb(1,1),void 0!==d.normalTexture.scale&&h.normalScale.set(d.normalTexture.scale,d.normalTexture.scale)),void 0!==d.occlusionTexture&&t!==o.L&&(f.push(n.assignTexture(h,"aoMap",d.occlusionTexture)),void 0!==d.occlusionTexture.strength&&(h.aoMapIntensity=d.occlusionTexture.strength)),void 0!==d.emissiveFactor&&t!==o.L&&(h.emissive=(new o.j).fromArray(d.emissiveFactor)),void 0!==d.emissiveTexture&&t!==o.L&&f.push(n.assignTexture(h,"emissiveMap",d.emissiveTexture)),m[r.KHR_MATERIALS_CLEARCOAT]){var _=c[r.KHR_MATERIALS_CLEARCOAT];t=_.getMaterialType(),f.push(_.extendParams(h,{extensions:m},n))}return Promise.all(f).then((function(){var e;return e=t===M?c[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(h):new t(h),d.name&&(e.name=d.name),e.map&&(e.map.encoding=o.vb),e.emissiveMap&&(e.emissiveMap.encoding=o.vb),X(e,d),d.extensions&&V(c,e,d),e}))},$.prototype.loadGeometries=function(e){var t=this,n=this.extensions,l=this.primitiveCache;function c(e){return n[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return J(r,e,t)}))}for(var d,h,m=[],i=0,f=e.length;i<f;i++){var v,y=e[i],T=(h=void 0,(h=(d=y).extensions&&d.extensions[r.KHR_DRACO_MESH_COMPRESSION])?"draco:"+h.bufferView+":"+h.indices+":"+Y(h.attributes):d.indices+":"+Y(d.attributes)+":"+d.mode),x=l[T];if(x)m.push(x.promise);else v=y.extensions&&y.extensions[r.KHR_DRACO_MESH_COMPRESSION]?c(y):J(new o.g,y,t),l[T]={primitive:y,promise:v},m.push(v)}return Promise.all(m)},$.prototype.loadMesh=function(e){for(var t,r=this,n=this.json.meshes[e],l=n.primitives,c=[],i=0,d=l.length;i<d;i++){var h=void 0===l[i].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new o.O({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:o.n})),t.DefaultMaterial):this.getDependency("material",l[i].material);c.push(h)}return c.push(r.loadGeometries(l)),Promise.all(c).then((function(t){for(var c=t.slice(0,t.length-1),d=t[t.length-1],h=[],i=0,m=d.length;i<m;i++){var f,v=d[i],y=l[i],T=c[i];if(y.mode===k||y.mode===I||y.mode===P||void 0===y.mode)!0!==(f=!0===n.isSkinnedMesh?new o.kb(v,T):new o.K(v,T)).isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),y.mode===I?f.geometry=Z(f.geometry,o.qb):y.mode===P&&(f.geometry=Z(f.geometry,o.pb));else if(y.mode===E)f=new o.B(v,T);else if(y.mode===L)f=new o.y(v,T);else if(y.mode===A)f=new o.A(v,T);else{if(y.mode!==R)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);f=new o.ab(v,T)}Object.keys(f.geometry.morphAttributes).length>0&&W(f,n),f.name=n.name||"mesh_"+e,d.length>1&&(f.name+="_"+i),X(f,n),r.assignFinalMaterial(f),h.push(f)}if(1===h.length)return h[0];var x=new o.p;for(i=0,m=h.length;i<m;i++)x.add(h[i]);return x}))},$.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],n=r[r.type];if(n)return"perspective"===r.type?t=new o.W(o.I.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(t=new o.V(n.xmag/-2,n.xmag/2,n.ymag/2,n.ymag/-2,n.znear,n.zfar)),r.name&&(t.name=r.name),X(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},$.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return r.inverseBindMatrices=e,r}))},$.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],r=[],n=[],l=[],c=[],d=[],i=0,h=t.channels.length;i<h;i++){var m=t.channels[i],f=t.samplers[m.sampler],v=m.target,y=void 0!==v.node?v.node:v.id,input=void 0!==t.parameters?t.parameters[f.input]:f.input,output=void 0!==t.parameters?t.parameters[f.output]:f.output;r.push(this.getDependency("node",y)),n.push(this.getDependency("accessor",input)),l.push(this.getDependency("accessor",output)),c.push(f),d.push(v)}return Promise.all([Promise.all(r),Promise.all(n),Promise.all(l),Promise.all(c),Promise.all(d)]).then((function(r){for(var n=r[0],l=r[1],c=r[2],d=r[3],h=r[4],m=[],i=0,f=n.length;i<f;i++){var v=n[i],y=l[i],T=c[i],x=d[i],M=h[i];if(void 0!==v){var w;switch(v.updateMatrix(),v.matrixAutoUpdate=!0,N[M.path]){case N.weights:w=o.T;break;case N.rotation:w=o.db;break;default:w=o.tb}var _=v.name?v.name:v.uuid,R=void 0!==x.interpolation?D[x.interpolation]:o.x,E=[];N[M.path]===N.weights?v.traverse((function(object){!0===object.isMesh&&object.morphTargetInfluences&&E.push(object.name?object.name:object.uuid)})):E.push(_);var A=T.array;if(T.normalized){var L;if(A.constructor===Int8Array)L=1/127;else if(A.constructor===Uint8Array)L=1/255;else if(A.constructor==Int16Array)L=1/32767;else{if(A.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");L=1/65535}for(var k=new Float32Array(A.length),I=0,P=A.length;I<P;I++)k[I]=A[I]*L;A=k}for(I=0,P=E.length;I<P;I++){var track=new w(E[I]+"."+N[M.path],y.array,A,R);"CUBICSPLINE"===x.interpolation&&(track.createInterpolant=function(e){return new S(this.times,this.values,this.getValueSize()/3,e)},track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(track)}}}var C=t.name?t.name:"animation_"+e;return new o.c(C,void 0,m)}))},$.prototype.loadNode=function(e){var t,n=this.json,l=this.extensions,c=this,d=n.meshReferences,h=n.meshUses,m=n.nodes[e];return(t=[],void 0!==m.mesh&&t.push(c.getDependency("mesh",m.mesh).then((function(e){var t;if(d[m.mesh]>1){var r=h[m.mesh]++;(t=e.clone()).name+="_instance_"+r}else t=e;return void 0!==m.weights&&t.traverse((function(e){if(e.isMesh)for(var i=0,t=m.weights.length;i<t;i++)e.morphTargetInfluences[i]=m.weights[i]})),t}))),void 0!==m.camera&&t.push(c.getDependency("camera",m.camera)),m.extensions&&m.extensions[r.KHR_LIGHTS_PUNCTUAL]&&void 0!==m.extensions[r.KHR_LIGHTS_PUNCTUAL].light&&t.push(c.getDependency("light",m.extensions[r.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===m.isBone?new o.d:e.length>1?new o.p:1===e.length?e[0]:new o.U)!==e[0])for(var i=0,r=e.length;i<r;i++)t.add(e[i]);if(m.name&&(t.userData.name=m.name,t.name=o.cb.sanitizeNodeName(m.name)),X(t,m),m.extensions&&V(l,t,m),void 0!==m.matrix){var n=new o.J;n.fromArray(m.matrix),t.applyMatrix4(n)}else void 0!==m.translation&&t.position.fromArray(m.translation),void 0!==m.rotation&&t.quaternion.fromArray(m.rotation),void 0!==m.scale&&t.scale.fromArray(m.scale);return t}))},$.prototype.loadScene=function(){function e(t,r,n,l){var c=n.nodes[t];return l.getDependency("node",t).then((function(e){return void 0===c.skin?e:l.getDependency("skin",c.skin).then((function(e){for(var r=[],i=0,n=(t=e).joints.length;i<n;i++)r.push(l.getDependency("node",t.joints[i]));return Promise.all(r)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var n=[],l=[],c=0,d=r.length;c<d;c++){var h=r[c];if(h){n.push(h);var m=new o.J;void 0!==t.inverseBindMatrices&&m.fromArray(t.inverseBindMatrices.array,16*c),l.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}e.bind(new o.jb(n,l),e.matrixWorld)}})),e}));var t})).then((function(t){r.add(t);var o=[];if(c.children)for(var d=c.children,i=0,h=d.length;i<h;i++){var m=d[i];o.push(e(m,t,n,l))}return Promise.all(o)}))}return function(t){var r=this.json,n=this.extensions,l=this.json.scenes[t],c=new o.p;l.name&&(c.name=l.name),X(c,l),l.extensions&&V(n,c,l);for(var d=l.nodes||[],h=[],i=0,m=d.length;i<m;i++)h.push(e(d[i],c,r,this));return Promise.all(h).then((function(){return c}))}}(),e}()),menu=r(210),d=r(211),h={components:{Menu:menu.a,Loader:d.a},head:function(){return{title:"Aero"}},data:function(){return{page_ready:!1,animationFrame:"",scene:"",camera:"",renderer:"",cam_frustum:"",clock:"",delta:"",planes:[],smokeParticles:[],smokeTexture:"",smokeMaterial:"",smokeGeo:"",cubeSineDriver:0,audio:"",pause:!1,gui:""}},mounted:function(){this.initThree(),this.initElements(),this.initGUI(),window.addEventListener("resize",this.updateSize)},beforeDestroy:function(){cancelAnimationFrame(this.animationFrame),window.removeEventListener("resize",this.updateSize),this.audio&&(this.audio.pause(),window.removeEventListener("click",this.playMusic)),this.gui.destroy()},methods:{initThree:function(){this.scene=new o.ib,this.camera=new o.W(90,1,1,1e3),this.camera.position.z=1e3,this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.cam_frustum=new o.o,this.cam_frustum.setFromMatrix((new o.J).multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse)),this.clock=new o.i,this.renderer=new o.ub({alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.scene.add(this.camera);var e=new o.k(16777215,.5);e.position.set(-1,0,1),this.scene.add(e)},initElements:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.addText(),e.addImage(),t.next=4,e.addPlane();case 4:e.addSmoke(),e.$refs.container.appendChild(e.renderer.domElement),e.renderer.render(e.scene,e.camera),e.initMusic(),e.page_ready=!0;case 9:case"end":return t.stop()}}),t)})))()},initGUI:function(){var e=this;this.gui=new dat.GUI({width:"xs"===this.$mq?174:void 0}),this.gui.add({planes:1},"planes",1,10,1).onChange((function(t){e.changePlaneNumber(t)})),this.gui.add({blaze_meter:150},"blaze_meter",1,420,1).onChange((function(t){e.changeSmoke(t)}))},addText:function(){var e=new o.Y(200,200);o.q.crossOrigin="";var t=o.q.loadTexture("images/quickText.png"),r=new o.M({color:65535,opacity:1,map:t,transparent:!0,blending:o.a}),text=new o.K(e,r);text.position.z=800,this.scene.add(text)},addImage:function(){var e=new o.Y(400,400),t=o.q.loadTexture("images/viper.jpg"),r=new o.M({color:65535,opacity:.9,map:t,transparent:!0,blending:o.a}),img=new o.K(e,r);img.position.z=800,this.scene.add(img)},addPlane:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){(new c).load("3d_models/plane3.gltf",(function(r){var n={scene_id:r.scene.id,destroy_plane:!1,entering:!0,leaving:!1,endpoint:{x:1,y:Math.ceil(Math.random()-.5),z:Math.ceil(Math.random()-.5)},signs:{x:Math.sign(Math.random()-.5),y:Math.sign(Math.random()-.5),z:Math.sign(Math.random()-.5)}};n.object=r.scene.children[0],n.object.scale.set(10,10,10),e.scene.add(n.object),e.resetPlane(n);var l=new o.k(16777215,1);e.scene.add(l),l.target=n.object,e.planes.push(n),t("success")}))})));case 1:case"end":return t.stop()}}),t)})))()},addSmoke:function(){this.smokeTexture=o.q.loadTexture("images/Smoke-Element.png"),this.smokeMaterial=new o.M({color:56797,map:this.smokeTexture,transparent:!0}),this.smokeGeo=new o.Y(200,200);for(var p=0;p<150;p++){var e=new o.K(this.smokeGeo,this.smokeMaterial);e.position.set(500*Math.random()-250,500*Math.random()-250,1e3*Math.random()-100),e.rotation.z=360*Math.random(),this.scene.add(e),this.smokeParticles.push(e)}},changeSmoke:function(e){var t=this.smokeParticles.length;if(e>t)for(var i=0;i<e-t;i++){var r=new o.K(this.smokeGeo,this.smokeMaterial);r.position.set(500*Math.random()-250,500*Math.random()-250,1e3*Math.random()-100),r.rotation.z=360*Math.random(),this.scene.add(r),this.smokeParticles.push(r)}else for(var n=0;n<t-e;n++){var l=this.smokeParticles[this.smokeParticles.length-1];this.scene.remove(this.scene.getObjectById(l.id)),this.smokeParticles.pop()}},planeBehavior:function(e){if(!e.destroy_plane||e.leaving){for(var t in e.endpoint)e.endpoint[t]&&(e.object.position[t]+=1*-e.signs[t]);this.cam_frustum.containsPoint(e.object.position)||e.leaving||e.entering||(e.leaving=!0,setTimeout((function(){e.leaving=!1,e.destroy_plane=!0}),3e3))}else this.resetPlane(e)},resetPlane:function(e){e.entering=!0,e.signs.x=Math.sign(Math.random()-.5),e.signs.y=Math.sign(Math.random()-.5),e.signs.z=Math.sign(Math.random()-.5),e.object.position.z=700+Math.floor(300*Math.random()),e.object.position.x=e.signs.x*(1e3-e.object.position.z)+50*e.signs.x,e.object.position.y=Math.random()*(1e3-e.object.position.z)*e.signs.y,e.endpoint.x=1,e.endpoint.y=Math.ceil(Math.random()-.5),e.endpoint.z=Math.ceil(Math.random()-.5);var view=new o.sb;for(var t in view.copy(e.object.position),e.endpoint)e.endpoint[t]&&(view[t]+=1e3*-e.signs[t]);e.object.lookAt(view),e.destroy_plane=!1,setTimeout((function(){e.entering=!1}),5e3)},changePlaneNumber:function(e){var t=this.planes.length;if(e>t)for(var i=0;i<e-t;i++)this.addPlane();else for(var r=0;r<t-e;r++){var n=this.planes[this.planes.length-1];this.scene.remove(this.scene.getObjectById(n.object.id)),this.planes.pop()}},evolveSmoke:function(){for(var e=this.smokeParticles.length;e--;)this.smokeParticles[e].rotation.z+=.2*this.delta},render:function(){this.cubeSineDriver+=.01,this.renderer.render(this.scene,this.camera)},pageEnter:function(){this.animate()},animate:function(){var e=this;this.delta=this.clock.getDelta(),this.planes.forEach((function(t){e.planeBehavior(t)})),this.evolveSmoke(),this.render(),this.animationFrame=requestAnimationFrame(this.animate)},updateSize:function(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight},initMusic:function(){this.audio=new Audio("audio/viper.mp3"),this.audio.loop=!0,window.addEventListener("click",this.playMusic)},playMusic:function(){this.audio.play(),window.removeEventListener("click",this.playMusic)}}},m=(r(231),r(10)),component=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-wrap"},[t("Loader",{attrs:{page_ready:e.page_ready,load_color:"_green"},on:{"page-enter":e.pageEnter}}),e._v(" "),t("Menu",{attrs:{page_img:"images/viper_icon.jpg",color:"_green"}}),e._v(" "),t("div",{ref:"container",staticClass:"container"})],1)}),[],!1,null,"119c9447",null);t.default=component.exports}}]);