(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{203:function(e,t,n){var content=n(207);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("29c808fc",content,!0,{sourceMap:!1})},204:function(e,t,n){var content=n(209);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("46dbdb00",content,!0,{sourceMap:!1})},206:function(e,t,n){"use strict";n(203)},207:function(e,t,n){var o=n(50)(!1);o.push([e.i,".head-wrap[data-v-d52bd794]{position:absolute;width:200px;height:200px;z-index:1}.head-wrap:hover .triangle-1[data-v-d52bd794]{opacity:0.2}.head-wrap:hover .mask-rect[data-v-d52bd794]{transform:translateY(0)}.head-wrap:hover .links-hider[data-v-d52bd794]{height:200px}.head-wrap._green .mask-rect[data-v-d52bd794]{fill:#468658}.head-wrap._green .link-text[data-v-d52bd794]:hover{color:#2fac83}.head-wrap._green .link-text._current[data-v-d52bd794]{color:#062b0d}.svg[data-v-d52bd794]{position:absolute}.triangle-1[data-v-d52bd794]{fill:#f3f3f3;opacity:0.1;transition:all 0.3s ease}.mask-rect[data-v-d52bd794]{opacity:0.3;fill:#64a0df;transform:translateY(-100%);transition:all 0.3s ease}.links-hider[data-v-d52bd794]{position:relative;height:0;width:100%;overflow:hidden;transition:all 0.3s ease}.links[data-v-d52bd794]{position:absolute;top:0;right:0;display:flex;flex-direction:column;justify-content:flex-end;height:200px;padding-right:20px;padding-bottom:20px;transition:all 0.3s ease}.link-text[data-v-d52bd794]{font-size:14px;text-decoration:none;text-align:right;text-transform:uppercase;transition:all 0.3s ease}.link-text[data-v-d52bd794]:hover{color:#4fa4ff}.link-text[data-v-d52bd794]:not(:first-child){margin-top:3px}.link-text._current[data-v-d52bd794]{color:#373879}\n",""]),e.exports=o},208:function(e,t,n){"use strict";n(204)},209:function(e,t,n){var o=n(50)(!1);o.push([e.i,".loader[data-v-3ebe6972]{position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#060016;z-index:100;transition:all 0.4s ease}.loader._green .play[data-v-3ebe6972]{fill:#008744}.loader._green .circular[data-v-3ebe6972]{animation:dash-3ebe6972 2s ease-in-out infinite,color-3ebe6972 1s ease-in-out infinite alternate-reverse,rotate-3ebe6972 2s linear infinite}.loader._green._ready .circular[data-v-3ebe6972]{stroke:#008744}.loader._ready .icon[data-v-3ebe6972]{pointer-events:all}.loader._ready .play[data-v-3ebe6972]{opacity:1}.loader._ready .circular[data-v-3ebe6972]{animation-iteration-count:1;stroke-dasharray:125, 200;stroke-dashoffset:0;stroke:#0057e7}.loader._entered[data-v-3ebe6972]{opacity:0;pointer-events:none}.loader._entered .icon[data-v-3ebe6972]{pointer-events:none}.icon[data-v-3ebe6972]{position:relative;width:100px;height:100px;pointer-events:none}.circular[data-v-3ebe6972]{stroke-dasharray:125, 200;stroke-dashoffset:0;animation:dash-3ebe6972 2s ease-in-out infinite,color-3ebe6972 1s ease-in-out infinite alternate,rotate-3ebe6972 2s linear infinite;stroke-linecap:round;transition:all 0.3s ease}.play[data-v-3ebe6972]{position:absolute;top:50%;left:53%;width:30px;height:30px;transform:translate(-50%, -50%);opacity:0;fill:#0057e7;transition:all 0.5s ease}@keyframes rotate-3ebe6972{100%{transform:rotate(360deg)}}@keyframes dash-3ebe6972{0%{stroke-dasharray:125, 200;stroke-dashoffset:0}50%{stroke-dasharray:89, 200;stroke-dashoffset:-124}50.1%{stroke-dasharray:1, 200;stroke-dashoffset:0}100%{stroke-dasharray:125, 200;stroke-dashoffset:0}}@keyframes color-3ebe6972{0%{stroke:#0057e7}100%{stroke:#008744}}\n",""]),e.exports=o},210:function(e,t,n){"use strict";n(29);var o={name:"Menu",props:{page_img:String,color:{type:String,default:"_blue"}}},r=(n(206),n(10)),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"head-wrap",class:e.color},[t("svg",{staticClass:"svg",attrs:{height:"200",width:"200",viewBox:"0 0 350 350"}},[t("image",{staticClass:"logo",attrs:{href:e.page_img,x:"15",y:"15",height:"100",width:"100"}}),e._v(" "),t("mask",{attrs:{id:"myMask"}},[t("polygon",{staticClass:"triangle-2",attrs:{points:"350,0 0,350 350,350",fill:"white"}})]),e._v(" "),t("polygon",{staticClass:"triangle-1",attrs:{points:"0,0 350,0 0,350"}}),e._v(" "),t("g",{attrs:{mask:"url(#myMask)"}},[t("rect",{staticClass:"mask-rect",attrs:{x:"0",y:"0",width:"100%",height:"100%"}})])]),e._v(" "),t("div",{staticClass:"links-hider"},[t("div",{staticClass:"links"},[t("nuxt-link",{staticClass:"link-text",class:{"cursor-pointer":"aero"!==e.$route.name,_current:"aero"===e.$route.name},attrs:{to:{name:"aero",params:{loaderColor:"reverse"}}}},[e._v("Aero")]),e._v(" "),t("nuxt-link",{staticClass:"link-text",class:{"cursor-pointer":"index"!==e.$route.name,_current:"index"===e.$route.name},attrs:{to:{name:"index"}}},[e._v("Garden")]),e._v(" "),t("nuxt-link",{staticClass:"link-text",class:{"cursor-pointer":"visualizer"!==e.$route.name,_current:"visualizer"===e.$route.name},attrs:{to:{name:"visualizer"}}},[e._v("Visualizer")])],1)])])}),[],!1,null,"d52bd794",null);t.a=component.exports},211:function(e,t,n){"use strict";var o={props:{load_color:{type:String,default:"_blue"},page_ready:{type:Boolean,default:!1}},data:function(){return{entered:!1}},methods:{enterPage:function(){this.page_ready&&(this.entered=!0,this.$emit("page-enter"))}}},r=(n(208),n(10)),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"loader",class:[{_ready:e.page_ready,_entered:e.entered},e.load_color],on:{click:e.enterPage}},[t("div",{staticClass:"icon cursor-pointer"},[t("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"1","stroke-miterlimit":"10"}})]),e._v(" "),t("svg",{staticClass:"play",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490 490"}},[t("path",{attrs:{d:"M0.665,0v490l488.669-245L0.665,0z M15.977,24.806L455.183,245L15.977,465.208V24.806z"}})])])])}),[],!1,null,"3ebe6972",null);t.a=component.exports},222:function(e,t,n){var content=n(234);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("26a00198",content,!0,{sourceMap:!1})},223:function(e,t,n){var content=n(236);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("03e2cdbe",content,!0,{sourceMap:!1})},233:function(e,t,n){"use strict";n(222)},234:function(e,t,n){var o=n(50)(!1);o.push([e.i,".page-wrap[data-v-19556e80]{background-color:black}.container[data-v-19556e80]{margin:0 auto;min-height:100vh;width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;text-align:center}.container[data-v-19556e80]:before{content:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:black}.container._hide-canvas[data-v-19556e80]:before{content:''}.controls[data-v-19556e80]{position:absolute;top:0;right:0;display:flex;color:white;background-color:rgba(0,0,0,0.4);border-bottom-left-radius:8px}@media (max-width: 767.98px){.controls[data-v-19556e80]{top:auto;bottom:0;width:100%}}.control-btn[data-v-19556e80]{display:flex;justify-content:center;align-items:center;width:85px;padding:4px 0 8px}@media (max-width: 767.98px){.control-btn[data-v-19556e80]:nth-child(4){display:none}}.control-create[data-v-19556e80]{position:relative;display:flex;justify-content:center;width:110px}@media (max-width: 767.98px){.control-create[data-v-19556e80]{margin-left:auto}}.create-add[data-v-19556e80]{position:absolute;top:100%;right:0;display:flex;flex-direction:column;transform-origin:top;transform:scaleY(0);opacity:0;transition:all .3s ease}.create-add._open[data-v-19556e80]{transform:scaleY(1);opacity:1}@media (max-width: 767.98px){.create-add[data-v-19556e80]{top:auto;bottom:100%;flex-direction:column-reverse;transform-origin:bottom}}.create-item[data-v-19556e80]{position:relative;display:flex;align-items:center;justify-content:center;width:110px;padding:8px 0;color:white;background-color:rgba(0,0,0,0.4);text-align:center;transition:all .3s ease}.create-item._done[data-v-19556e80]{color:#008200}.create-item._done .upload-check[data-v-19556e80]{opacity:1}.input-file[data-v-19556e80]{display:none}.input-text[data-v-19556e80]{color:white;width:23px;margin-left:5px}.upload-check[data-v-19556e80]{position:absolute;right:10px;width:10px;height:10px;fill:#008200;stroke:#008200;stroke-width:4px;opacity:0;transition:all .3s ease}.create-text[data-v-19556e80]{display:flex}.create-switch[data-v-19556e80]{display:flex;flex-direction:column}.switch-wrap[data-v-19556e80]{display:flex;width:100%;margin-top:4px}.switch-item[data-v-19556e80]{display:flex;align-items:center;justify-content:center;width:50%;height:100%;padding:2px 4px;font-size:14px;transition:all .3s ease}.switch-item._active[data-v-19556e80]{background-color:#2c4968}.create-finish[data-v-19556e80]{opacity:0;pointer-events:none;transition:all .3s ease}.create-finish._active[data-v-19556e80]{opacity:1;pointer-events:all}\n",""]),e.exports=o},235:function(e,t,n){"use strict";n(223)},236:function(e,t,n){var o=n(50)(!1);o.push([e.i,".p5Canvas,#p5_loading{position:absolute;top:-10000px;left:-10000px}\n",""]),e.exports=o},243:function(e,t,n){"use strict";n.r(t);n(30),n(217),n(216),n(16);var o=n(212),r=n(242),menu=n(210),c=n(211),l={name:"IconCheck"},d=n(10),h=Object(d.a)(l,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}},[e("path",{attrs:{d:"M 42.875 8.625 C 42.84375 8.632813 42.8125 8.644531 42.78125 8.65625 C 42.519531 8.722656 42.292969 8.890625 42.15625 9.125 L 21.71875 40.8125 L 7.65625 28.125 C 7.410156 27.8125 7 27.675781 6.613281 27.777344 C 6.226563 27.878906 5.941406 28.203125 5.882813 28.597656 C 5.824219 28.992188 6.003906 29.382813 6.34375 29.59375 L 21.25 43.09375 C 21.46875 43.285156 21.761719 43.371094 22.050781 43.328125 C 22.339844 43.285156 22.59375 43.121094 22.75 42.875 L 43.84375 10.1875 C 44.074219 9.859375 44.085938 9.425781 43.875 9.085938 C 43.664063 8.746094 43.269531 8.566406 42.875 8.625 Z"}})])}),[],!1,null,null,null).exports,m={components:{Menu:menu.a,Loader:c.a,IconCheck:h},head:function(){return{title:"Visualizer"}},data:function(){return{assets:{rin:{image:"images/rin.jpg",music:"audio/secretG.mp3",threshold:34,displacement:4},mayuri:{image:"images/mayuri.jpg",music:"audio/chronostatsis.mp3",threshold:34,displacement:1},yuki:{image:"images/yuki.jpg",music:"audio/kuroi.mp3",threshold:100,displacement:5},sato:{image:"images/sato.jpg",music:"audio/shiroi.mp3",threshold:34,displacement:2},peko:{image:"images/peko.png",music:"audio/peko.mp3",threshold:34,displacement:3},custom:{image:"",music:"",threshold:34,displacement:5}},current_asset:"rin",music_ready:!1,image_ready:!1,need_reinit:!1,hideCanvas:!1,create_visible:!1,input_image:"",input_music:"",input_displacement:5,background_position:"contain",animation_frame:"",clock:"",scene:"",camera:"",distance:300,renderer:"",scale:1,container:new o.U,map_bass:0,map_low:0,map_high:0,audio:""}},computed:{page_ready:function(){return this.music_ready&&this.image_ready}},watch:{page_ready:function(e){this.need_reinit&&e&&(this.show(),this.need_reinit=!1)}},created:function(){this.$route.query.demo&&(this.current_asset=this.$route.query.demo),this.$route.query.image&&this.$route.query.music&&(this.assets.custom.image=this.$route.query.image,this.assets.custom.music=this.$route.query.music,this.assets.custom.displacement=this.$route.query.displacement,this.current_asset="custom")},mounted:function(){this.initThree(),this.initParticles(),this.animate(),this.resize(),window.addEventListener("resize",this.updateSize),window.addEventListener("mousemove",this.updateMouse)},beforeDestroy:function(){cancelAnimationFrame(this.animation_frame),this.destroy(),this.audio&&this.audio.pause(),window.removeEventListener("resize",this.updateSize),window.removeEventListener("mousemove",this.updateMouse),window.removeEventListener("click",this.closeCreate)},methods:{initThree:function(){this.scene=new o.ib,this.camera=new o.W(100,window.innerWidth/window.innerHeight,1,1e3),this.camera.position.z=this.distance,this.renderer=new o.ub({antialias:!0,alpha:!0}),this.clock=new o.i(!0),this.renderer.setSize(window.innerWidth,window.innerHeight),this.$refs.container.appendChild(this.renderer.domElement)},pageEnter:function(){this.show(),this.animate()},initParticles:function(){this.scene.add(this.container),this.displacement=this.assets[this.current_asset].displacement,this.init(this.assets[this.current_asset].image,this.assets[this.current_asset].music)},animate:function(){this.update(),this.draw(),this.animation_frame=requestAnimationFrame(this.animate)},draw:function(){this.renderer.render(this.scene,this.camera)},update:function(){if(this.object3D){var e=this.clock.getDelta();this.object3D.material.uniforms.uMusicBass.value=Math.max(1,this.map_bass),this.object3D.material.uniforms.uMusicHigh.value=Math.max(1,this.map_high),this.object3D.material.uniforms.uMusicLow.value=Math.max(1,this.map_low),this.object3D.material.uniforms.uTime.value+=e}},updateMouse:function(e){r.a.to(this.camera.rotation,{x:.15*(.5-e.clientY/window.innerHeight),y:.15*(.5-e.clientX/window.innerWidth),duration:2,ease:"power1.easeOut"})},updateSize:function(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight},resize:function(){this.renderer&&(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.resize3D())},changeAssets:function(e){var t=this;this.page_ready&&(this.image_ready=!1,this.music_ready=!1,this.need_reinit=!0,this.current_asset=e,this.hide(!0).then((function(){t.init()})))},openCreate:function(){this.create_visible=!0,window.addEventListener("click",this.closeCreate)},closeCreate:function(e){var t=this.$refs.create_drop;t&&(t===e.target||t.contains(e.target)||(this.create_visible=!1))},uploadFile:function(e,t){var n=this,o=e.target.files[0],r=new FileReader;r.addEventListener("load",(function(){n[t]=r.result}),!1),r.readAsDataURL(o)},finishCreate:function(){this.closeCreate({}),this.assets.custom.image=this.input_image,this.assets.custom.music=this.input_music,this.assets.custom.displacement=this.input_displacement,this.changeAssets("custom")},init:function(){var e=this;(new o.ob).load(this.assets[this.current_asset].image,(function(t){e.texture=t,e.texture.minFilter=o.C,e.texture.magFilter=o.C,e.texture.format=o.fb,e.width=t.image.width,e.height=t.image.height,e.initPoints(!0),e.resize3D(),e.hide(),e.image_ready=!0}));new p5((function(p){var t;p.preload=function(){e.audio=p.loadSound(e.assets[e.current_asset].music,(function(){e.music_ready=!0}))},p.setup=function(){t=new p5.FFT},p.draw=function(){t.analyze();var n=t.getEnergy("bass"),o=t.getEnergy("lowMid"),r=t.getEnergy("highMid");e.map_bass=p.map(n,0,255,0,2),e.map_low=p.map(o,0,255,0,2),e.map_high=p.map(r,0,255,0,2)}}))},initPoints:function(e){this.numPoints=this.width*this.height;var t,n=this.numPoints,r=0;if(e){n=0,r=this.assets[this.current_asset].threshold;var img=this.texture.image,canvas=document.createElement("canvas"),c=canvas.getContext("2d");canvas.width=this.width,canvas.height=this.height,c.scale(1,-1),c.drawImage(img,0,0,this.width,-1*this.height);var l=c.getImageData(0,0,canvas.width,canvas.height);t=Float32Array.from(l.data);for(var i=0;i<this.numPoints;i++)t[4*i]>r&&n++}var d={uTime:{value:0},uRandom:{value:1},uDepth:{value:40},uSize:{value:.5},uTextureSize:{value:new o.rb(this.width,this.height)},uTexture:{value:this.texture},uDisplacement:{value:this.assets[this.current_asset].displacement},uMusicBass:{value:null},uMusicHigh:{value:null},uMusicLow:{value:null}},h=new o.gb({uniforms:d,vertexShader:"precision highp float;\n#define GLSLIFY 1\nattribute float pindex;\nattribute vec3 position;\nattribute vec3 offset;\nattribute vec2 uv;\nattribute float angle;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uDisplacement;\nuniform float uMusicBass;\nuniform float uTime;\nuniform float uRandom;\nuniform float uDepth;\nuniform float uSize;\nuniform vec2 uTextureSize;\nuniform sampler2D uTexture;\nuniform sampler2D uTouch;\nvarying vec2 vPUv;\nvarying vec2 vUv;\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat random(float n) {\n    return fract(sin(n) * 43758.5453123);\n}\n\nvoid main() {\n    vUv = uv;\n\n    // particle uv\n\n    vec2 puv = offset.xy / uTextureSize;\n    vPUv = puv;\n\n    // pixel color\n\n    vec4 colA = texture2D(uTexture, puv);\n    float grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;\n\n    // displacement\n\n    vec3 displaced = offset;\n\n    // randomise and utilize uMusic variable\n\n    displaced.xy += vec2(random(pindex) - 0.25, random(offset.x + pindex) - 0.25) * uRandom * (pow(uMusicBass, uDisplacement) * 0.2);\n    float rndz = (random(pindex) + snoise(vec2(pindex * 0.1, uMusicBass * 0.1)));\n    displaced.z += rndz * (random(pindex) * uDepth) * (pow(uMusicBass, uDisplacement) * 6.0);\n\n    // center\n\n    displaced.xy -= uTextureSize * 0.5;\n\n    // touch\n\n    float t = texture2D(uTouch, puv).r;\n    displaced.z += t * 20.0 * rndz;\n    displaced.x += cos(angle) * t * 20.0 * rndz;\n    displaced.y += sin(angle) * t * 20.0 * rndz;\n\n    // particle size\n\n    float psize = (snoise(vec2(uTime* uMusicBass, pindex) * 0.5) + 2.0) * uMusicBass * 0.5;\n    psize *= max(grey, 0.2);\n    psize *= uSize;\n\n    // final position\n\n    vec4 mvPosition = modelViewMatrix * vec4(displaced, 1.0);\n    mvPosition.xyz += position * psize;\n    vec4 finalPosition = projectionMatrix * mvPosition;\n    gl_Position = finalPosition;\n}",fragmentShader:"precision highp float;\n#define GLSLIFY 1\nuniform sampler2D uTexture;\nuniform float uMusicBass;\nuniform float uMusicHigh;\nuniform float uMusicLow;\nuniform float uTime;\nvarying vec2 vPUv;\nvarying vec2 vUv;\n\nvoid main() {\n\n    vec4 color = vec4(0.0);\n    vec2 uv = vUv;\n    vec2 puv = vPUv;\n\n    // pixel color\n\n    vec4 colA = texture2D(uTexture, puv);\n\n    // greyscale\n\n    // float grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;\n    // vec4 colB = vec4(grey, grey, grey, 1.0);\n\n    // circle\n\n    float border = 0.3;\n    float radius = 0.5;\n    float dist = radius - distance(uv, vec2(0.5));\n    float t = smoothstep(0.0, border, dist);\n    uv = 2.0 * uv - 1.0;\n\n    // Double the speed\n\n    // float wave = sin(uTime * 2.0);\n\n    // Scale to make the circle bigger so it reaches the far edges\n\n    // float circle = (uv.x * uv.x + uv.y * uv.y) * 0.2;\n    // vec4 color1 = vec4(0.1, 0.2, 0.8, 1.0); // Red\n    // vec4 color2 = vec4(0.2, 0.1, 0.8, 1.0); // Blue\n    // color = mix(color1, color2, circle + wave);\n\n    // final color\n    color = colA;\n    // color = colB;\n    color.r = color.r + smoothstep(1.2, 2.0, uMusicHigh) * 3.0;\n    color.b = color.b + smoothstep(1.65, 2.0, uMusicLow) * 3.0;;\n    color.a = t;\n    gl_FragColor = color;\n}",depthTest:!1,transparent:!0}),m=new o.s,v=new o.f(new Float32Array(12),3);v.setXYZ(0,-.5,.5,0),v.setXYZ(1,.5,.5,0),v.setXYZ(2,-.5,-.5,0),v.setXYZ(3,.5,-.5,0),m.setAttribute("position",v);var f=new o.f(new Float32Array(8),2);f.setXYZ(0,0,0),f.setXYZ(1,1,0),f.setXYZ(2,0,1),f.setXYZ(3,1,1),m.setAttribute("uv",f),m.setIndex(new o.f(new Uint16Array([0,2,1,2,3,1]),1));for(var x=new Uint16Array(n),w=new Float32Array(3*n),_=new Float32Array(n),y=0,k=0;y<this.numPoints;y++)e&&t[4*y]<=r||(w[3*k]=y%this.width,w[3*k+1]=Math.floor(y/this.width),x[k]=y,_[k]=Math.random()*Math.PI,k++);m.setAttribute("pindex",new o.r(x,1,!1)),m.setAttribute("offset",new o.r(w,3,!1)),m.setAttribute("angle",new o.r(_,1,!1)),this.object3D=new o.K(m,h),this.container.add(this.object3D)},show:function(){var time=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.hideCanvas=!1,this.audio.loop(),r.a.fromTo(this.object3D.material.uniforms.uSize,{value:.5},{value:1.5,duration:time}),r.a.to(this.object3D.material.uniforms.uRandom,{value:2,duration:time}),r.a.fromTo(this.object3D.material.uniforms.uDepth,{value:40},{value:4,duration:time})},hide:function(e){var t=this,time=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;return new Promise((function(n,o){r.a.to(t.object3D.material.uniforms.uRandom,{value:1,duration:time,onComplete:function(){e&&(t.audio&&t.audio.pause(),t.hideCanvas=!0,t.destroy()),n()}}),r.a.to(t.object3D.material.uniforms.uDepth,{value:40,ease:"power3.in",duration:time}),r.a.to(t.object3D.material.uniforms.uSize,{duration:time,value:.5})}))},destroy:function(){this.object3D&&(this.object3D.parent.remove(this.object3D),this.object3D.geometry.dispose(),this.object3D.material.dispose(),this.object3D=null)},resize3D:function(){if(this.object3D){if("contain"===this.background_position){var e=this.camera.fov*Math.PI/180,t=2*Math.tan(e/2)*this.distance/this.height;this.scale=t}else{var n=this.camera.fov*Math.PI/180,o=2*Math.tan(n/2)*this.distance,r=o*this.camera.aspect/this.width,c=o/this.height;this.scale=Math.max(r,c)}this.object3D.scale.set(this.scale,this.scale,1)}}}},v=m,f=(n(233),n(235),Object(d.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-wrap"},[t("Loader",{attrs:{page_ready:e.page_ready},on:{"page-enter":e.pageEnter}}),e._v(" "),t("Menu",{attrs:{page_img:"images/knk.png"}}),e._v(" "),t("div",{ref:"container",staticClass:"container",class:{"_hide-canvas":e.hideCanvas}}),e._v(" "),t("div",{staticClass:"controls"},[t("div",{staticClass:"control-btn cursor-pointer",on:{click:function(t){return e.changeAssets("rin")}}},[e._v("demo_1")]),e._v(" "),t("div",{staticClass:"control-btn cursor-pointer",on:{click:function(t){return e.changeAssets("mayuri")}}},[e._v("demo_2")]),e._v(" "),t("div",{staticClass:"control-btn cursor-pointer",on:{click:function(t){return e.changeAssets("yuki")}}},[e._v("demo_3")]),e._v(" "),t("div",{staticClass:"control-btn cursor-pointer",on:{click:function(t){return e.changeAssets("sato")}}},[e._v("demo_4")]),e._v(" "),t("div",{ref:"create_drop",staticClass:"control-create"},[t("div",{staticClass:"control-btn cursor-pointer",on:{click:function(t){return e.openCreate()}}},[e._v("\n        Create\n      ")]),e._v(" "),t("div",{staticClass:"create-add",class:{_open:e.create_visible}},[t("label",{staticClass:"create-item cursor-pointer add-image",class:{_done:e.input_image},attrs:{for:"upload-image"}},[e._v("\n          Image\n          "),t("input",{staticClass:"input-file",attrs:{id:"upload-image",type:"file",accept:"image/*"},on:{change:function(t){return e.uploadFile(t,"input_image")}}}),e._v(" "),t("IconCheck",{staticClass:"upload-check"})],1),e._v(" "),t("label",{staticClass:"create-item cursor-pointer add-music",class:{_done:e.input_music},attrs:{for:"upload-music"}},[e._v("\n          Music\n          "),t("input",{staticClass:"input-file",attrs:{id:"upload-music",type:"file",accept:"audio/*"},on:{change:function(t){return e.uploadFile(t,"input_music")}}}),e._v(" "),t("IconCheck",{staticClass:"upload-check"})],1),e._v(" "),t("div",{staticClass:"create-item create-text"},[t("p",[e._v("Displace:")]),e._v(" "),t("input",{directives:[{name:"mask",rawName:"v-mask",value:"#?#",expression:"'#?#'"},{name:"model",rawName:"v-model",value:e.input_displacement,expression:"input_displacement"}],staticClass:"cursor-text input-text",attrs:{id:"displacement",type:"text"},domProps:{value:e.input_displacement},on:{input:function(t){t.target.composing||(e.input_displacement=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"create-item create-switch"},[t("p",[e._v("Position:")]),e._v(" "),t("div",{staticClass:"switch-wrap"},[t("div",{staticClass:"switch-item cursor-pointer",class:{_active:"cover"===e.background_position},on:{click:function(t){e.background_position="cover",e.resize()}}},[e._v("Cover")]),e._v(" "),t("div",{staticClass:"switch-item cursor-pointer",class:{_active:"contain"===e.background_position},on:{click:function(t){e.background_position="contain",e.resize()}}},[e._v("Contain")])])]),e._v(" "),t("div",{staticClass:"create-item create-finish cursor-pointer",class:{_active:e.input_image&&e.input_music},on:{click:e.finishCreate}},[e._v("Finish")])])])])],1)}),[],!1,null,"19556e80",null));t.default=f.exports}}]);